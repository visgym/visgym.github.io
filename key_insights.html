<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes">
    <title>Deep Insights & Discoveries - VisGym</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Karla', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: transparent;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .berkeley-blue { color: #003262; }
        .berkeley-bg { background-color: #003262; }
        .founders-rock { color: #3B7EA1; }
        .golden-gate { color: #ED4E33; }
        /* ASCII 效果模拟 */
        .ascii-art { font-family: monospace; line-height: 10px; letter-spacing: -1px; white-space: pre; overflow: hidden; }
        
        /* Mobile Responsive Styles */
        @media screen and (max-width: 768px) {
            body {
                -webkit-text-size-adjust: 100%;
                text-size-adjust: 100%;
                overflow-x: hidden;
            }
            
            .max-w-6xl { max-width: 100%; }
            h2 { 
                font-size: clamp(1.2rem, 5vw + 0.4rem, 1.5rem) !important; 
                margin-bottom: 0.75rem !important; 
                line-height: 1.3 !important;
            }
            h3 { 
                font-size: clamp(1.1rem, 4vw + 0.4rem, 1.25rem) !important; 
                line-height: 1.3 !important;
            }
            .text-xl { font-size: clamp(1rem, 3vw + 0.4rem, 1.125rem) !important; }
            .text-2xl { font-size: clamp(1.2rem, 5vw + 0.4rem, 1.5rem) !important; }
            .py-8 { padding-top: 1rem !important; padding-bottom: 1rem !important; }
            .py-6 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }
            .py-4 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
            .py-2 { padding-top: 0.4rem !important; padding-bottom: 0.4rem !important; }
            .px-4 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
            .gap-8 { gap: 1rem !important; }
            .gap-12 { gap: 1rem !important; }
            .space-y-4 > * + * { margin-top: 0.6rem !important; }
            .space-y-5 > * + * { margin-top: 0.75rem !important; }
            .mb-4 { margin-bottom: 0.6rem !important; }
            .mb-3 { margin-bottom: 0.4rem !important; }
            .h-96 { height: 14rem !important; }
            .text-base { 
                font-size: clamp(0.85rem, 2vw + 0.3rem, 0.95rem) !important; 
                line-height: 1.5 !important;
            }
            .text-lg { 
                font-size: clamp(0.9rem, 2vw + 0.3rem, 1rem) !important; 
                line-height: 1.5 !important;
            }
            .text-sm { font-size: clamp(0.75rem, 2vw + 0.3rem, 0.85rem) !important; }
            .p-4 { padding: 0.6rem !important; }
            .px-3 { padding-left: 0.4rem !important; padding-right: 0.4rem !important; }
            .py-1 { padding-top: 0.2rem !important; padding-bottom: 0.2rem !important; }
            
            /* Table mobile optimizations */
            table {
                font-size: clamp(0.7rem, 2vw + 0.2rem, 0.85rem) !important;
                width: 100% !important;
            }
            table th {
                padding: 0.5rem 0.4rem !important;
                font-size: clamp(0.7rem, 2vw + 0.2rem, 0.85rem) !important;
                white-space: nowrap;
            }
            table td {
                padding: 0.5rem 0.4rem !important;
                font-size: clamp(0.65rem, 2vw + 0.15rem, 0.8rem) !important;
                line-height: 1.4 !important;
            }
            table th.text-lg,
            table td.text-lg {
                font-size: clamp(0.8rem, 2vw + 0.25rem, 0.95rem) !important;
            }
            table th.text-2xl,
            table td.text-2xl {
                font-size: clamp(1rem, 3vw + 0.3rem, 1.2rem) !important;
            }
            .overflow-x-auto {
                -webkit-overflow-scrolling: touch;
                overflow-x: auto;
            }
            
            /* Button improvements for touch */
            button {
                min-height: 44px;
                -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
                touch-action: manipulation;
            }
            
            /* Prevent horizontal scroll */
            * {
                max-width: 100%;
            }
        }
        
        @media screen and (max-width: 480px) {
            h2 { 
                font-size: clamp(1.1rem, 6vw + 0.3rem, 1.3rem) !important; 
                margin-bottom: 0.5rem !important;
            }
            h3 { 
                font-size: clamp(1rem, 5vw + 0.3rem, 1.15rem) !important; 
            }
            .text-xl { font-size: clamp(0.95rem, 3vw + 0.3rem, 1.05rem) !important; }
            .text-2xl { font-size: clamp(1.1rem, 6vw + 0.3rem, 1.3rem) !important; }
            .px-4 { padding-left: 0.6rem !important; padding-right: 0.6rem !important; }
            .text-base { 
                font-size: clamp(0.8rem, 2vw + 0.3rem, 0.9rem) !important; 
            }
            .h-96 { height: 10rem !important; }
            .py-8 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }
            .py-6 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
            
            /* Table small mobile optimizations */
            table {
                font-size: clamp(0.65rem, 2vw + 0.15rem, 0.75rem) !important;
            }
            table th {
                padding: 0.4rem 0.3rem !important;
                font-size: clamp(0.65rem, 2vw + 0.15rem, 0.75rem) !important;
            }
            table td {
                padding: 0.4rem 0.3rem !important;
                font-size: clamp(0.6rem, 2vw + 0.1rem, 0.7rem) !important;
                line-height: 1.3 !important;
            }
            table th.text-lg,
            table td.text-lg {
                font-size: clamp(0.75rem, 2vw + 0.2rem, 0.85rem) !important;
            }
            table th.text-2xl,
            table td.text-2xl {
                font-size: clamp(0.9rem, 3vw + 0.25rem, 1.1rem) !important;
            }
        }
    </style>
</head>
<body class="bg-white">
<div class="max-w-6xl mx-auto px-4 py-4">
    <h2 class="text-2xl font-bold berkeley-blue mb-4" style="font-family: 'Space Grotesk', sans-serif;">Quantitative Insights (Why Models Fail)</h2>
</div>

<section class="w-full py-8 bg-gray-50 border-y border-gray-200">
    <div class="max-w-6xl mx-auto px-4">
        <div class="flex flex-col md:flex-row gap-8 items-center">
            <div class="w-full md:w-1/2">
                <!-- Example Selector -->
                <div class="mb-4 flex gap-2 justify-center flex-wrap">
                    <button onclick="selectExample(0)" id="example-btn-0" class="px-3 py-1 rounded-full bg-blue-100 text-blue-800 text-[10px] font-bold transition-all">Sliding Block</button>
                    <button onclick="selectExample(1)" id="example-btn-1" class="px-3 py-1 rounded-full text-gray-500 text-[10px] font-bold transition-all">Matchstick Equation</button>
                    <button onclick="selectExample(2)" id="example-btn-2" class="px-3 py-1 rounded-full text-gray-500 text-[10px] font-bold transition-all">Maze 2D</button>
                    <button onclick="selectExample(3)" id="example-btn-3" class="px-3 py-1 rounded-full text-gray-500 text-[10px] font-bold transition-all">Patch Reassembly</button>
                </div>
                
                <div id="display-container" class="bg-white p-2 rounded-2xl border border-red-500 relative overflow-hidden group transition-all duration-500" style="box-shadow: 0 0 15px rgba(239, 68, 68, 0.3), 0 0 30px rgba(239, 68, 68, 0.2), 0 0 45px rgba(239, 68, 68, 0.1);">
                    <div class="absolute top-4 left-0 right-0 flex justify-center z-20">
                        <div class="bg-white/90 backdrop-blur rounded-full p-1 border border-gray-200 shadow-sm flex items-center">
                            <div id="btn-visual" onclick="selectVisual()" class="px-4 py-1 rounded-full bg-blue-100 text-blue-800 text-[10px] font-bold transition-all cursor-pointer hover:bg-blue-200">Visual Input</div>
                            <div id="btn-text" onclick="selectASCII()" class="px-4 py-1 rounded-full text-gray-500 text-[10px] font-bold transition-all cursor-pointer hover:bg-gray-100">ASCII Input</div>
                        </div>
                    </div>

                    <div class="relative h-96 bg-gray-100 rounded-xl flex items-center justify-center mt-10 overflow-hidden">
                        <img id="img-layer" src="static/text_mode_compare/matchstick_equation.png" class="absolute w-full h-full transition-opacity duration-500 opacity-100" alt="Visual Input" style="object-fit: contain; padding: 1rem;">
                        
                        <div id="ascii-layer" class="absolute w-full h-full bg-black flex items-center justify-center opacity-0 transition-opacity duration-500 overflow-auto p-4">
                            <div id="ascii-content" class="text-green-400 text-sm leading-relaxed font-mono whitespace-pre-wrap flex gap-8"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="w-full md:w-1/2 space-y-5">
                <div class="flex items-center gap-3">
                    <h3 class="text-xl font-bold berkeley-blue" style="font-family: 'Space Grotesk', sans-serif;">The Visual Grounding Paradox</h3>
                </div>
                <p class="text-base text-gray-700 leading-relaxed" style="font-size: 1rem; line-height: 1.625;">
                    Frontier VLMs such as GPT-5 achieve <b>3–4× higher accuracy</b> on symbolic tasks when the same inputs are rendered as ASCII characters rather than as images.
                </p>
                <p class="text-base text-gray-700 leading-relaxed" style="font-size: 1rem; line-height: 1.625;">
                    This striking gap highlights a fundamental limitation: the difficulty lies <b>not in reasoning, but in seeing</b>.
                </p>
                <p class="text-base text-gray-700 leading-relaxed" style="font-size: 1rem; line-height: 1.625;">
                    The model already knows how to solve the problem—it simply cannot reliably <b>perceive the matchsticks</b> when they are presented in pixel form.
                </p>
                <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-600 text-base text-green-900 italic" style="font-size: 1rem; line-height: 1.625;">
                    "Visual grounding, rather than algorithmic reasoning, remains the dominant bottleneck."
                </div>
            </div>
        </div>
    </div>
</section>

<section class="w-full py-8 bg-white">
    <div class="max-w-6xl mx-auto px-4">
        <div class="flex flex-col md:flex-row-reverse gap-8 items-center">
            <div class="w-full md:w-1/2">
                <div class="bg-white p-4 rounded-2xl shadow-xl border border-gray-200">
                    <img src="static/images/sft_ablations.png" alt="SFT Ablations: Vision vs LLM Gains" class="w-full h-auto object-contain" style="image-rendering: -webkit-optimize-contrast; image-rendering: crisp-edges;">
                </div>
            </div>

            <div class="w-full md:w-1/2 space-y-4">
                <div class="flex items-center gap-3">
                    <h3 class="text-xl font-bold berkeley-blue" style="font-family: 'Space Grotesk', sans-serif;">The Reasoning Bottleneck</h3>
                </div>
                <p class="text-base text-gray-700 leading-relaxed" style="font-size: 1rem; line-height: 1.625;">
                    We decoupled the architecture to ask a simple question: does performance come from <b>better eyes</b> (the vision encoder) or a <b>better brain</b> (the LLM)?
                </p>
                <p class="text-base text-gray-700 leading-relaxed" style="font-size: 1rem; line-height: 1.625;">
                    Our analysis shows that, for most interactive tasks, <b>temporal reasoning</b> is the dominant factor.
                </p>
                <p class="text-base text-gray-700 leading-relaxed" style="font-size: 1rem; line-height: 1.625;">
                    While visual perception is necessary, the ability to <b>integrate history and plan over time</b> is what truly differentiates model performance.
                </p>
                <div class="p-4 bg-blue-50 rounded-lg border-l-4 border-blue-600 text-base text-blue-900 italic" style="font-size: 1rem; line-height: 1.625;">
                    "Temporal reasoning and history integration remain the primary bottlenecks for current VLMs."
                </div>
            </div>
        </div>
    </div>
</section>

<section class="w-full pt-16 pb-8 bg-white text-gray-800">
    <div class="max-w-6xl mx-auto px-4">
        <div class="text-center mb-6">
            <h3 class="text-2xl font-bold text-gray-800 mb-3" style="font-family: 'Space Grotesk', sans-serif;">Teaching Agents to "Look Before Leaping"</h3>
        </div>

        <!-- Core Thesis -->
        <div class="mb-6">
            <p class="text-gray-600 text-xl leading-relaxed mb-3" style="font-size: 1.25rem; line-height: 1.625;">
                Standard imitation learning provides optimal paths—but not the exploratory behaviors required to understand hidden state.
            </p>
        </div>

        <!-- Comparative Experiment -->
        <div class="mb-6">
            <!-- Comparison Table -->
            <div class="overflow-x-auto mb-6">
                <table class="w-full border-collapse bg-gray-50 rounded-lg overflow-hidden border border-gray-200">
                    <thead>
                        <tr class="bg-gray-100">
                            <th class="px-4 py-3 text-left text-gray-800 font-bold">Comparison Dimension</th>
                            <th class="px-4 py-3 text-center text-red-600 font-bold"> Baseline Demonstrations (Stochastic)</th>
                            <th class="px-4 py-3 text-center text-green-600 font-bold"> Information-Revealing (Structured)</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-700">
                        <tr class="border-t border-gray-200">
                            <td class="px-4 py-3 font-semibold">Strategy</td>
                            <td class="px-4 py-3 text-center">Three stochastic moves toward the target</td>
                            <td class="px-4 py-3 text-center">Two unit-scale steps to probe action–perception correspondence</td>
                        </tr>
                        <tr class="border-t border-gray-200 bg-gray-50/50">
                            <td class="px-4 py-3 font-semibold">Intrinsic Goal</td>
                            <td class="px-4 py-3 text-center">Reach the target quickly</td>
                            <td class="px-4 py-3 text-center">Expose environment scale and dynamics</td>
                        </tr>
                        <tr class="border-t border-gray-200 bg-gray-50/50">
                            <td class="px-4 py-4 font-semibold text-lg">Success Rate</td>
                            <td class="px-4 py-4 text-center text-red-600 font-bold text-2xl">32.9%</td>
                            <td class="px-4 py-4 text-center text-green-600 font-bold text-2xl">70.0% (≈2.1×)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Final Insight -->
        <div class="mt-4 p-4 border-l-4 border-green-600 bg-green-50 rounded-lg">
            <p class="text-base font-medium text-green-900" style="font-size: 1rem; line-height: 1.625;">
                Structured demonstrations, not trajectory length or quantity, drive these gains. Teaching agents to disambiguate hidden state is essential for effective supervised fine-tuning.
            </p>
        </div>
    </div>
</section>

<script>
    // Examples data: [visual image path, ascii text]
    const examples = [
        {
            name: "Sliding Block",
            visual: "static/text_mode_compare/sliding_block.png",
            ascii: "Target Current\n\n3114 | 3114\n\n3114 | 3114\n\n226. | 5226\n\n576. | 5906\n\n5890 | 7.8."
        },
        {
            name: "Matchstick Equation",
            visual: "static/text_mode_compare/matchstick_equation.png",
            ascii: " _   _         _   _       _           _   _   _ \n\n  | |_|   _     |  | |_|   _   |_|   _    |  |  |\n\n  | |_|         |  |  _|       | |        |  |  |\n\n                                                 \n\n 0   1    2    3   4  5    6    7    8    9   10"
        },
        {
            name: "Maze 2D",
            visual: "static/text_mode_compare/maze2d.png",
            ascii: "#############\n#           #\n## #      A##\n## ####### ##\n## #     # ##\n## ### ### ##\n##         ##\n## ####### ##\n##   #     ##\n## # ####### \n##T#       ##\n#############\n#############"
        },
        {
            name: "Patch Reassembly",
            visual: "static/text_mode_compare/patch_reassembly.png",
            ascii: "  0 1 2 3 4\n  ---------\n0 | 0 0 . . .\n\n1 | 0 0 0 0 .\n\n2 | . . . . .\n\n3 | . . . . .\n\n4 | . . . . .",
            asciiPart2: "--- Parked Patches ---\n\n\nPatch 1:\n  *\n  1\n  1\n  1\n  1\n\n\nPatch 2:\n  *\n  22\n\n\nPatch 3:\n  *3\n  3\n  3\n\n\nPatch 4:\n  *4\n  444\n  44",
            isTwoColumn: true
        }
    ];

    let currentExample = 0;
    let isVisual = true;
    let autoPlayInterval = null;

    // Select example
    function selectExample(index) {
        currentExample = index;
        
        // Update button styles
        for (let i = 0; i < 4; i++) {
            const btn = document.getElementById(`example-btn-${i}`);
            if (i === index) {
                btn.className = "px-3 py-1 rounded-full bg-blue-100 text-blue-800 text-[10px] font-bold transition-all";
            } else {
                btn.className = "px-3 py-1 rounded-full text-gray-500 text-[10px] font-bold transition-all";
            }
        }
        
        // Update content
        updateDisplay();
        
        // Restart auto-play
        startAutoPlay();
    }

    // Update display
    function updateDisplay() {
        const imgLayer = document.getElementById('img-layer');
        const asciiLayer = document.getElementById('ascii-layer');
        const asciiContent = document.getElementById('ascii-content');
        const btnVisual = document.getElementById('btn-visual');
        const btnText = document.getElementById('btn-text');
        const displayContainer = document.getElementById('display-container');
        
        const example = examples[currentExample];
        
        if (isVisual) {
            // Show visual - preload image to avoid flickering
            const newImg = new Image();
            newImg.onload = function() {
                imgLayer.src = example.visual;
                imgLayer.style.opacity = '1';
            };
            newImg.onerror = function() {
                console.error('Failed to load image:', example.visual);
                imgLayer.style.opacity = '1';
            };
            newImg.src = example.visual;
            
            asciiLayer.style.opacity = '0';
            // Red button for Visual Input
            btnVisual.className = "px-4 py-1 rounded-full bg-red-500 text-white text-[10px] font-bold transition-all cursor-pointer hover:bg-red-600";
            btnVisual.style.boxShadow = "0 0 8px rgba(239, 68, 68, 0.3), 0 0 15px rgba(239, 68, 68, 0.2)";
            btnText.className = "px-4 py-1 rounded-full text-gray-500 text-[10px] font-bold transition-all cursor-pointer hover:bg-gray-100";
            btnText.style.boxShadow = "none";
            // Red glowing border for Visual Input (thin border, glow only)
            displayContainer.className = "bg-white p-2 rounded-2xl border border-red-500 relative overflow-hidden group transition-all duration-500";
            displayContainer.style.boxShadow = "0 0 15px rgba(239, 68, 68, 0.3), 0 0 30px rgba(239, 68, 68, 0.2), 0 0 45px rgba(239, 68, 68, 0.1)";
        } else {
            // Show ASCII
            imgLayer.style.opacity = '0';
            asciiLayer.style.opacity = '1';
            btnVisual.className = "px-4 py-1 rounded-full text-gray-500 text-[10px] font-bold transition-all cursor-pointer hover:bg-gray-100";
            btnVisual.style.boxShadow = "none";
            // Green button for ASCII Input
            btnText.className = "px-4 py-1 rounded-full bg-green-500 text-white text-[10px] font-bold transition-all cursor-pointer hover:bg-green-600";
            btnText.style.boxShadow = "0 0 8px rgba(34, 197, 94, 0.3), 0 0 15px rgba(34, 197, 94, 0.2)";
            // Green glowing border for ASCII Input (thin border, glow only)
            displayContainer.className = "bg-white p-2 rounded-2xl border border-green-500 relative overflow-hidden group transition-all duration-500";
            displayContainer.style.boxShadow = "0 0 15px rgba(34, 197, 94, 0.3), 0 0 30px rgba(34, 197, 94, 0.2), 0 0 45px rgba(34, 197, 94, 0.1)";
            
            // Handle two-column display for Patch Reassembly
            if (example.asciiPart2) {
                // Two columns side by side - much smaller font for Patch Reassembly
                asciiContent.className = "text-green-400 text-[8px] leading-tight font-mono flex gap-8 items-start";
                asciiContent.innerHTML = `<pre class="text-green-400 text-[8px] leading-tight font-mono whitespace-pre-wrap flex-shrink-0">${example.ascii}</pre><pre class="text-green-400 text-[8px] leading-tight font-mono whitespace-pre-wrap flex-shrink-0">${example.asciiPart2}</pre>`;
            } else {
                // Single column for other examples
                asciiContent.className = "text-green-400 text-sm leading-relaxed font-mono whitespace-pre-wrap";
                asciiContent.innerHTML = `<pre class="text-green-400 text-sm leading-relaxed font-mono whitespace-pre-wrap">${example.ascii}</pre>`;
            }
        }
    }

    // Toggle between visual and ASCII
    function toggleDisplay() {
        isVisual = !isVisual;
        updateDisplay();
    }

    // Manually select Visual Input
    function selectVisual() {
        isVisual = true;
        updateDisplay();
        // Restart auto-play after manual selection
        startAutoPlay();
    }

    // Manually select ASCII Input
    function selectASCII() {
        isVisual = false;
        updateDisplay();
        // Restart auto-play after manual selection
        startAutoPlay();
    }

    // Auto-play: switch between visual and ASCII every 3 seconds
    function startAutoPlay() {
        if (autoPlayInterval) {
            clearInterval(autoPlayInterval);
        }
        
        // Auto-toggle every 3 seconds
        autoPlayInterval = setInterval(() => {
            toggleDisplay();
        }, 3000);
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        selectExample(0);
    });

</script>
</body>
</html>

